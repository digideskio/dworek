# Dworek User Guide
This guide briefly describes how Dworek, and it's game mechanics work.



## Basic concept
_Note: This game can be played in different formats with different language configurations.  
For example, it may be played with ingredients, sweet factories and candy.  
Or with a configuration like ingredients, labs and drugs.
The latter is used in this guide._


The goal is simple:

> Create virtual drug labs in real-world locations with your cartel.  
> Conquer labs owned by other cartels to become the drug production MVP.

To win, earn as much money as possible.

##### Format
This game is played in the real world where every player has it's own mobile device.

Players are split into teams, and teams fight against each other to become the richest.

Players have an inventory of money, ingredients and drugs.

##### How to make money
Ingredients can be bought at a dealer (shop).
Ingredients can be brought to labs by walking to the location of the lab in the real world.
These ingredients are then processed by the lab into drugs.
Drugs can be taken out of a lab, also, it is required to walk to the location of the lab.
These drugs can then be sold to a dealer (shop) for money.

With this cycle you'll be able to make a lot of money!
```
Dealer -> Ingredients -> Lab -> Drugs -> Dealer
```

##### Labs
Labs are player-built.
That means that players have the ability to build new labs as they desire, if the player has enough money to buy a lab.
Labs are then built at the location the player is currently standing.

Labs can be taken over by other teams, so they can use it to boost their own drug production.
Enemy labs aren't visible on the map until they are very close, so make sure you're building your labs in a strategic location to make them hard to find.

There are various ways to defend labs, and tricks to easily find them. This will be described later on.

##### Balance
To win, you must properly balance the amount of labs your team is building, and the number of labs that are taken over from other teams.

Only building labs, or only taking over enemy labs is very inefficient.

##### Goal, who wins?
The goal is simple. Earn as much money as possible.

When the game is finished, the team that has the most money wins the game!

Ingredients and/or drugs are not counted,
so make sure you sell al your products before the game ends or else it won't be counted.

The current standings are shown at the bottom of the _Me_ tab on the main game page,
so you can always see how good your team is currently doing.



## Players
Each player has their own account on a mobile device, and is part of a team.

### Balance and inventory
Each player has an inventory holding money, ingredients and drugs.  
These ingredients can be put into a lab, and drugs can be sold to make more money.

Your current balance and inventory is shown in the _My balance_ section on _Me_ tab of the main game page.

### Visibility
Normally, you are only visible on the map to other friendly players.  
Of course, you're also able to see where other players in your team are currently at.

There's one exception: dealers (shops) are visible at all times. This is described in the _Dealers_ section.

### Strength
All players have a strength value. The higher this value, the stronger a player is.

A higher strength value makes it easier to take over enemy labs.
This attack process is described in the _Labs_ section.

The strength value is the _Upgrade strength_ section on the _Me_ tab of the game page.

Strength upgrades can be bought at any time for money in the same section.
The higher your strength value is, the more expensive strength upgrades become.



## Dealers (shops)
In this game, players themselves are the shops.  
This adds an cool aspect, because dealers will be able to walk around.

The dealer role is randomly rotated once every 15 minutes.
This time is variable so one player might be the dealer for a little longer than one other.

Before you as a player come a dealer, you're notified in the application you'll be the next.  
The actual moment you become a dealer, you'll be notified once again.

In each team there's at least one dealer role.
There will automatically be more dealer roles for teams with many players.
Products can be dealt at any dealer from any team.
Players that are the dealer, can also buy from themselves.

To buy or sell products from a dealer, you must be in range of it.
On the map a range circle is visible to show where you need to be standing.
When the dealer is in range, a _Local dealer_ section is shown at the top of the _Actions_ tab on the main game page.
In this dealer section you'll be able to start transactions.  
All transactions are accepted and the player being the dealer doesn't have to approve anything.

The buy price for ingredients and sell price for drugs varies greatly between dealers,
so it might be worth it to visit another dealer instead who has much better prices at that time.

Buying and selling products at the dealer of your own team is much more expensive than buying
or selling at the dealer of the enemy team. In fact, you'll probably loose a lot of money when
buying and selling at your own dealer.

Players that are dealers are at all times visible on the map.
This has one catch, that's that enemy players will be able to see where you're currently standing at.
You don't want to be standing inside your master lab because it will become visible on the map for enemy players that are walking towards you.
It's best to quickly move away from your buildings as soon as you become a dealer.



## Labs
Labs are build by players, on the location they were standing at when building the lab.

To build a lab, click the _Build lab_ button inside the _Build a lab_ section on the _Actions_ tab of the main game page.

Labs owned by your team are shown in the _Actions_ tab of the main game page.
Each lab has it's own section.

### Pricing
The price of labs varies a lot.
The price of a new lab is equal for your whole team, thus,
it might be There are various aspects that may affect the cost of a new lab for your team.

Factors:
- The first few labs are free.
- The more labs your team has, the more expensive labs get to build for you.
- The more labs enemy teams have, the less expensive labs get to build for you.

This results in the following:
- Teams that don't have any labs can build one for free.
- Teams that have very few labs in comparison to the other teams can build one for little to no money.
- It is very expensive to build a new lab for teams that have a lot more labs than other teams.

The price of a new lab is shown on the bottom of the _Actions_ tab, inside the _Build lab_ button.

### Lab inventory and transfers
Labs also have an inventory, holding ingredients and drugs.  
This inventory is shown on the status page of a lab.

Friendly payers can put units into this inventory space, and they can take it out to start the production process.
This can only be done on the _transfer_ tab of the labs page when the player is in range.
If the player isn't in range, s/he is only able to view the current lab contents.

When a lab is taken over, the units inside the lab are lost and become part of the enemy team that attacked the lab.

### Lab level
The level a lab is in defines how fast it is able to produce new drugs.  
The higher level a lab has, the quicker drugs will be produced, greatly improving your efficiency.

The level of a lab can of course be upgraded for money.
These upgrades can be bought when the player is in range of the lab.

This can be done on the _level_ on a labs page.

When the level of the lab is increased, the range of lab gets bigger.
Watch out, as this makes the lab easier to spot by enemy players walking by.

### Defence
Every lab has a defence value. This value is shown on the page of a lab.

The higher this defence value is, the harder it is for enemy players to attack and take over the lab.

Better defence can be bought for money to increase the defence value over time.

On the _defence_ tab of a labs page a list of new defence upgrades is visible,
allowing the player to choose which upgrade s/he'd like to buy.

Make sure you keep the defence values as high as possible to prevent any takeovers by enemey teams.

### Conquer value
The _conquer value_ is a special value, shown on the labs information page.
This value defines whether enemies are able to attack your lab.

The rules are simple:
- If the value is 0 or less, the lab can't be taken over.
- If the value is higher than 0, the lab can be taken over by enemy teams!

This conquer value is affected by the defence level of the lab, and the players that are in range.

The calculation for this value works as follows:
```
0 - A - B + C = conquer value
    |   |   |
    |   |   +-- C: cumulative strength value of enemy players in range
    |   +-- B: cumulative strength value of friendly players in range
    +-- A: lab defence value
```

This results in:
- The higher the defence level of your lab, the lower the conquer value becomes (good)
- The more friendly players are in range of the lab, the lower the conquer value becomes (good)
- The stronger each player in range of the lab is, the lower the conquer value becomes (good)
- The more enemy players are in the range of the lab, the higher the conquer value becomes (bad)
- The stronger each enemy players in range of the lab is, the higher the conquer value becomes (bad)

You have to work as a team to attack or defend, or else you'll be overwhelmed by an enemy group.

When the conquer value is above zero, a big _Attack_ button shows up at the labs page.

So, keep a close eye on this value with your team.
You want to keep this value as low as possible at all times, below zero!

### Attacking and defending
Various strategies can be used to attack or defend a lab.
Be sure to work as a team for the best results.

To attack:
- Stand with a group of players inside the range of the enemy lab
- Buy player strength

To defend:
- Stand with a group of friendly players inside the range of your lab
- Buy player strength
- Buy more defence for the lab

When a lab can be attacked because it's conquer value is above 0, a big _Attack_ button appears. 
When this attack button is clicked, the lab is immediately taken over by that team.

When a lab is taken over, the level of the lab is decreased by 1.
Also, some ingredients and drugs might be lost in this process.
The strength and defence values of players and labs are probably also affected.

If the lab is already at level 1, it is destroyed when an enemy team tries to take it over.
Thus, if you want to take over a lab to use it for your own production,
make sure the lab has at least level 2.
The level is shown on the labs information page and is visible to everyone in range.

After you've taken over a lab, make sure to greatly improve the defence because it might be
taken back by the original team that owned the lab.

### Lab visibility
On the map, labs are normally only visible to the lab the team is part of.

There are a few exceptions however:
- The lab is also visible for enemy players that are in range of the lab.
- The lab is also visible for enemy players that spotted the lab by using a ping (see Pings).

Therefore it's possible for enemy players to spot a lab when they're walking close by.
And of course, enemies are able to communicate to other enemy players that a lab has been found.

When building a lab, try to put it in the most strategic spot as possible to make it hard to find.
A lab in the middle of the road might be spotted easily when an enemy player is walking past.

Each visible lab has it's own section in the _Actions_ tab of the main game page.
Click the _View lab_ button to view the given lab.  
Labs owned by your team are always visible in this list.



## Map
The map is visible on the _Map_ tab on the main game page.

The map shows various things with markers and circles.  
The markers show the location of a player and/or building.  
Every player has it's own unique map showing relevant for him or her.

The circle around your own marker shows the accuracy of your location.  
The circle around labs and/or dealers shows the effective range of the lab and/or dealer.

If a circle has a dotted line, it means you aren't in range of it.
Make sure the line of the circle becomes solid before trying to buy/sell something, or transferring something to/from a lab.

Marker colors:
- Blue: yourself
- Green: friendly players
- Purple: dealers (both friendly or enemy)
- Orange: friendly labs
- Red: enemy labs

You can always click on a marker to find out more about it's meaning.



## Pings
Pings can be used to discover hidden labs from enemy teams.

Pings can be found in the _Ping_ section on the _Me_ tab of the game page.

A ping can be bought for money, and has specific properties.  
Some pings find 1 lab at maximum, and some pings have a limited range.
There are also pings that have an infinite range, and so on.  
These properties are shown when buying a ping so you can decide exactly what ping to use.

The price of pings varies greatly depending on the properties of the ping,
and the current position of your team on the leader board.

When an enemy lab is pinged a red marker is shown on your map.  
This marker shows the location of the enemy lab and is only visible for a little while.
Be sure to remember the location before the marker goes away again.

It is possible no enemy lab is found at all when a ping is used.
That might be because there aren't any enemy lab in the effective range of the ping,
or it might be because there simply aren't any enemy labs yet.  
If no labs are found, the ping is still consumed, and you won't get the money you've spend back.

Lab defence or it's conquer value doesn't have any affect on pings.



## Special players
Special players may join your game.
Special players are usually played by the host of the game.
Special players may also be a regular players with an additional role.

Special players are able to execute special actions.
These actions may affect the money, ingredients, drugs and strength players have.

With these special actions the rich players may be nerfed,
while the poorest players might get a bonus to help them on the way.

Special players are able to choose whether an action has effect in a specific range,
or just for specific players.

As a player you'll always be notified when a special action has affected you.
Players do not have any way to defend against these actions.



## Leader board
The current standings are shown at the bottom of the _Me_ tab on the main game page in the _Current standings_ section.

For each team, the amount of money players have in their inventory is counted.
Ingredients and/or drugs are NOT counted.

The team highest on the list will be the team that wins the game when the game is finished.

So before the game finishes, make sure you sell all your units from your inventory to get as much money as possible.

The list of standings is updated in real time.



-----


# Information for administrators
Note: The following part is still a work in progress.

## Games
Multiple games can be played.

Each game may be in one of three stages:  
- **Not yet started** (default)
    - Paused
    - Allow users to join the game
- **Started**
    - Playable, everyone is can play
- **Finished**
    - Paused
    - Overview of everything

Administrators and/or the game host is able to change the game stage.  

When the game is in the _finished_ stage, it may be resumed again (set it to the _started_ stage)
to continue playing after a timeout.

#### Create new game
Administrators are able to create a new game.

Where to find:
1. Open sidebar
2. Visit the Games page
3. Button _Create game_ on the bottom of the page

Direct URL: https://dworek.timvisee.com/game/create

After you've created the game make sure to do the following:
1. Create teams
2. Configure the custom game language if desired
3. Invite players to join
4. Approve players that requested to join
5. Start the game when ready

#### Change game stage
Where to find:
1. Game page, _info_ tab
2. Section _Game management_, button _management_
3. Section _Start game_ / _Finish game_ / _Resume game_

#### Broadcast message
Messages can be broadcasted to all players of the game.
This allows the host to, for example, notify the players the game will ben ended soon.  
This should _only_ be used when the game is started.

Where to find:
1. Game page, _info_ tab
2. Section _Game management_, button _management_
3. Section _Broadcast message_, button _Broadcast message_

#### Change language
Various language aspects can be changed in each game.  
When the apply button is pressed, all language values are updated automatically for all players.

Where to find:
1. Game page, _info_ tab
2. Section _Game management_, button _management_
3. Section _Language manager_, button _Language manager_
